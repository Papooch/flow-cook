{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/LaneItem/ItemEmpty.vue?93f8","webpack:///./src/components/LaneItem/ItemIngredients.vue?25a1","webpack:///./src/components/RecipeContainer/ContainerContent.vue?3dc6","webpack:///./src/components/FlowArrows/index.vue?821b","webpack:///./src/components/LaneItem/index.vue?48b1","webpack:///./src/App.vue","webpack:///./src/components/RecipeContainer/index.vue","webpack:///./src/components/RecipeContainer/ContainerContent.vue","webpack:///./src/components/ContainerLane/index.vue","webpack:///./src/components/LaneItem/index.vue","webpack:///./src/mixins/LaneItemProps.js","webpack:///./src/mixins/Coordinates.js","webpack:///./src/js/common.js","webpack:///./src/components/LaneItem/ItemStart.vue","webpack:///./src/mixins/Colors.js","webpack:///./src/components/LaneItem/ItemStart.vue?65e7","webpack:///./src/components/LaneItem/ItemAction.vue","webpack:///./src/components/LaneItem/ItemAction.vue?cffd","webpack:///./src/components/LaneItem/ItemAdd.vue","webpack:///./src/components/LaneItem/ItemAdd.vue?8110","webpack:///./src/components/LaneItem/ItemIngredients.vue","webpack:///./src/components/IngredientBadge/index.vue","webpack:///./src/components/IngredientBadge/IngredientAmount.vue","webpack:///./src/js/unitConverter.js","webpack:///./src/components/IngredientBadge/IngredientAmount.vue?32cd","webpack:///./src/components/IngredientBadge/index.vue?56da","webpack:///./src/components/LaneItem/ItemIngredients.vue?8955","webpack:///./src/components/LaneItem/ItemEmpty.vue","webpack:///./src/components/LaneItem/ItemEmpty.vue?d78d","webpack:///./src/components/LaneItem/index.vue?6158","webpack:///./src/components/ContainerLane/index.vue?94fc","webpack:///./src/components/FlowArrows/index.vue","webpack:///./src/components/FlowArrows/FlowArrow.vue","webpack:///./src/components/FlowArrows/FlowArrow.vue?4715","webpack:///./src/components/FlowArrows/index.vue?d1f0","webpack:///./src/components/RectangleRegions/index.vue","webpack:///./src/components/RectangleRegions/RectangleRegion.vue","webpack:///./src/components/RectangleRegions/RectangleRegion.vue?250b","webpack:///./src/components/RectangleRegions/index.vue?1f0d","webpack:///./src/components/RecipeContainer/ContainerContent.vue?346f","webpack:///./src/components/RecipeContainer/index.vue?580d","webpack:///./src/js/recipeConverter.js","webpack:///./src/App.vue?dfb6","webpack:///./src/js/sampleConvertedRecipe.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/components/LaneItem/ItemStart.vue?25bc","webpack:///./src/App.vue?3f7e","webpack:///./src/components/IngredientBadge/IngredientAmount.vue?ec6d","webpack:///./src/components/IngredientBadge/index.vue?6381","webpack:///./src/components/ContainerLane/index.vue?4876","webpack:///./src/components/RecipeContainer/ContainerContent.vue?9851","webpack:///./src/components/RectangleRegions/RectangleRegion.vue?bcb5","webpack:///./src/components/RectangleRegions/index.vue?7235","webpack:///./src/components/LaneItem/ItemAdd.vue?adab","webpack:///./src/components/RecipeContainer/index.vue?f98a","webpack:///./src/components/LaneItem/ItemAction.vue?9ed9","webpack:///./src/components/RecipeContainer/index.vue?a156"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","style","selected","$store","commit","getRecipe","$event","target","ref","type","min","setPortions","class","scr","gridTemplate","lanes","lane","index","laneIndex","items","item","itemIndex","itemComponent","ItemIndexes","props","Number","BoundingBox","bBox","methods","recomputeBoundingBox","this","$refs","itemBBox","offset","cellBBox","offsetParent","left","x","right","w","top","y","bottom","h","cLeft","cRight","cTop","cBottom","xMiddle","yMiddle","elem","offsetLeft","offsetTop","offsetWidth","offsetHeight","classList","contains","mounted","computeColor","scrollToDuration","element","duration","callback","Math","abs","scrollLeft","totalLength","startingPos","scrollCount","oldTimestamp","requestAnimationFrame","step","newTimestamp","PI","sin","text","ComputedHSL","computed","hue","getters","getItemHue","saturation","getItemSaturation","lightness","getItemLightness","BaseColor","colorBase","LighterColor","colorLighter","mixins","render","colorFrom","created","undefined","from","ingredients","ingredient","amount","unit","amountText","pluralCategories","pluralizedUnits","none","one","few","many","UnitsSI","getPlural","category","entries","matches","includes","normaliseAmount","multiplier","unitType","originalIndex","newUnit","units","indexOf","newAmount","maxIndex","minIndex","newIndex","round","portionsMultiplier","getPortionsMultiplier","na","components","IngredientAmount","IngredientBadge","columns","state","columnDisplay","gt","ItemStart","ItemAdd","ItemAction","ItemIngredients","ItemEmpty","LaneItem","recomputeBoundingBoxes","keys","forEach","setTimeout","updated","addEventListener","unmounted","removeEventListener","xmlns","width","height","arrows","arrow","id","markerWidth","markerHeight","refX","refY","orient","fill","points","fromTo","x1","xFrom","y1","yFrom","x2","xTo","y2","yTo","stroke","stroke-linecap","stroke-dasharray","dotted","stroke-width","marker-end","headSize","fromBBox","getItemBBox","toBBox","to","fb","tb","vertical","inverted","FlowArrow","regions","region","headerStyle","topLeftBBox","topLeft","bottomRightBBox","bottomRight","tl","br","cb","isHeaderOnBottom","header","RectangleRegion","console","log","ContainerLane","FlowArrows","RectangleRegions","maxLaneLength","max","map","ContainerContent","__scopeId","addVerticalArrow","fromLaneIndex","toLaneIndex","eventIndex","vArrows","getEventIndex","addHorizontalArrow","toIndex","hArrows","findLastOccupied","fromIndex","error","parseEvent","recipe","event","containers","prepare","convertRecipe","namedRegions","timeline","parseInt","values","portions","RecipeContainer","rec","dispatch","basePortions","prt","ifr","createStore","mutations","payload","setRecipe","setBBox","toggleDisplayStyle","actions","fetchRecipe","context","fetch","then","json","getPortions","app","createApp","App","use","store","mount"],"mappings":"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","file":"js/app.9d77ca79.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/flow-cook/dist/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ItemEmpty.vue?vue&type=style&index=0&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ItemIngredients.vue?vue&type=style&index=0&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ContainerContent.vue?vue&type=style&index=1&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&lang=css\"","<template>\n    <div\n        style=\"color:white;\"\n    >\n        <button\n            @click=\"$store.commit('toggleDisplayStyle')\"\n        >\n            FLIP\n        </button>\n        <select\n            @change=\"getRecipe($event.target.value)\"\n        >\n            <option value=\"palacinky\" selected>Palačinky</option>\n            <option value=\"spagety\">Špagety</option>\n            <option value=\"lasagne\">Lasagne</option>\n        </select>\n        <label>\n            Portions:\n            <input ref=\"portions\" type=\"number\" value=\"0\" min=\"1\" @change=\"setPortions\"/>\n        </label>\n    </div>\n    <recipe-container/>\n</template>\n\n<script>\nimport RecipeContainer from './components/RecipeContainer'\nimport { convertRecipe } from './js/recipeConverter' \n\nexport default {\n    name: 'App',\n    components: {\n        RecipeContainer\n    },\n    methods: {\n        getRecipe(rec){\n            this.$store.dispatch('fetchRecipe', rec);\n            setTimeout(() => {\n                this.$refs.portions && (this.$refs.portions.value = this.$store.state.basePortions);\n            }, 1000);\n        },\n        setPortions(){\n            this.$store.commit(\"setPortions\", this.$refs.portions.value)\n        },\n        prt(){\n            console.log(this.$refs.ifr);\n        }\n    },\n    created() {\n        this.getRecipe('palacinky');\n        setTimeout(() => {\n            this.$refs.portions && (this.$refs.portions.value = this.$store.state.basePortions);\n        }, 1000);\n    }\n\n}\n</script>\n\n<style>\n@import url('./assets/css/variables.css');\n@import url('./assets/css/common.css');\n\n\n#app {\n    position: relative;\n    font-family: Avenir, Helvetica, Arial, sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n\n    text-align: center;\n    width: 100%;\n    height: 100%;\n    padding: 2em;\n    color: hsl(0, 0%, 15%);\n    background-color: hsl(0, 0%, 15%);\n}\n\nhtml, body {\n    position: relative;\n    width: 100%;\n    height: 100%;\n}\n\n* {\n    box-sizing: border-box;\n    padding: 0;\n    margin: 0;\n}\n\n.gk-drop-shadow {\n    filter: drop-shadow(2px 2px 0px rgba(0, 0, 0, .4));\n}\n</style>\n","<template>\n<div class=\"gk-recipe-container\"\n    ref=\"elem\"\n    @click=\"scr\"\n>\n    <container-content/>\n</div>\n</template>\n\n<script>\nimport ContainerContent from './ContainerContent'\n\nimport { scrollToDuration } from '../../js/common.js';\n\nexport default {\n    name: 'RecipeContainer',\n    components: {\n        ContainerContent,\n    },\n    methods: {\n        scr(){\n            console.log(\"scrolling\");\n            scrollToDuration(this.$refs.elem, 200, 1000)\n        }\n    }\n}\n</script>\n\n<style>\n@import url('../../assets/css/variables.css');\n@import url('../../assets/css/common.css');\n\n</style>\n<style scoped>\n    .gk-recipe-container {\n        position: absolute;;\n        /* background-color: lightgray; */\n        width: 100%;\n        max-height: 100%;\n        overflow: auto;\n        font-size: .8em;\n    }\n</style>","<template>\r\n<div class=\"gk-container-content\">\r\n    <rectangle-regions/>\r\n    <flow-arrows/>\r\n    <div class=\"gk-lane-container\"\r\n        :style=\"gridTemplate\"\r\n    >\r\n        <container-lane\r\n            v-for=\"(lane, index) of lanes\"\r\n            :key=\"lane.name\"\r\n            :lane=\"lane\"\r\n            :laneIndex=\"index\"\r\n        />\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport ContainerLane from '../ContainerLane';\r\nimport FlowArrows from '../FlowArrows';\r\nimport RectangleRegions from '../RectangleRegions';\r\n\r\nexport default {\r\n    name: 'ContainerContent',\r\n    components: {\r\n        ContainerLane,\r\n        FlowArrows,\r\n        RectangleRegions\r\n    },\r\n    computed: {\r\n        lanes(){\r\n            return this.$store.state.lanes;\r\n        },\r\n        gridTemplate(){\r\n            let maxLaneLength = Math.max(...this.lanes.map(l=>l.items.length));\r\n            let columns = this.$store.state.columnDisplay;\r\n            let gt = `\r\n                grid-template-${columns ? 'rows' : 'columns'}: repeat(${maxLaneLength + 1}, auto);\r\n                ${columns ? 'grid-auto-flow: column;' : ''}\r\n            `;\r\n            return gt;\r\n        }\r\n    },\r\n}\r\n</script>\r\n\r\n<style>\r\n@import url('../../assets/css/variables.css');\r\n@import url('../../assets/css/common.css');\r\n\r\n/** debug */\r\n.gk-lane-container {\r\n    z-index: 30;\r\n    display: grid;\r\n}\r\n\r\n.gk-lane-container > * {\r\n    z-index: 30;\r\n}\r\n\r\n/* table,\r\ntable td {\r\n    border: solid rgba(0, 0, 0, 0.158) 1px;\r\n} */\r\n\r\n/* table {\r\n\tdisplay: table;\r\n}\r\ntable tr {\r\n\tdisplay: table-cell;\r\n}\r\ntable tr td {\r\n\tdisplay: block;\r\n} */\r\n</style>\r\n\r\n<style>\r\n    .gk-container-content {\r\n        /*background-color: rgb(209, 209, 209);*/\r\n        position: relative;\r\n        padding: 2em;\r\n        width: fit-content;\r\n        height: auto;\r\n    }\r\n</style>","<template>\n    <div\n        class=\"gk-lane-start\"\n        :style=\"style\"\n    ></div>\n    <lane-item\n        v-for=\"(item, index) of lane.items\"\n        :key=\"item\"\n        :item=\"item\"\n        :itemIndex=\"index\"\n        :laneIndex=\"laneIndex\"\n        :ref=\"'gk-item-ref-' + index\"\n    />\n</template>\n\n<script>\nimport LaneItem from '../LaneItem'\n\nexport default {\n    props: [\"lane\", \"laneIndex\"],\n    name: \"ContainerLane\",\n    components: {\n        LaneItem\n    },\n    methods: {\n        recomputeBoundingBoxes(){\n            Object.keys(this.$refs).forEach(key=>{\n                this.$refs[key]?.recomputeBoundingBox();\n            });\n            setTimeout(\n                this.recomputeBoundingBoxes,\n                500\n            )\n        }\n    },\n    computed: {\n        style() {\n            let columns = this.$store.state.columnDisplay;\n            return `grid-${columns ? 'row' : 'column'}-start: 1;`\n        }\n    },\n    updated(){\n            this.recomputeBoundingBoxes()\n    },\n    mounted(){\n        window.addEventListener('resize', this.recomputeBoundingBoxes, true);\n    },\n    unmounted(){\n        window.removeEventListener('resize', this.recomputeBoundingBoxes, true);\n    }\n}\n</script>\n\n<style>\n\n.gk-lane-start {\n    width: 0;\n    padding: 0;\n    height: 0;\n}\n</style>\n","<template>\n<div\n    class=\"gk-lane-item-cell\"\n>\n    <component\n        v-if=\"itemComponent\"\n        :is=\"itemComponent\"\n        ref=\"item\"\n        :item=\"item\"\n        :itemIndex=\"itemIndex\"\n        :laneIndex=\"laneIndex\"\n        class=\"gk-drop-shadow\"\n    />\n</div>\n</template>\n\n<script>\nimport { ItemIndexes } from '../../mixins/LaneItemProps.js';\nimport { BoundingBox } from '../../mixins/Coordinates.js';\n\nimport { computeColor } from '../../js/common.js';\n\nimport ItemStart from './ItemStart.vue';\nimport ItemAction from './ItemAction';\nimport ItemAdd from './ItemAdd';\nimport ItemIngredients from './ItemIngredients';\nimport ItemEmpty from './ItemEmpty';\n\nexport default {\n    name: \"LaneItem\",\n    components: {\n    },\n    computed: {\n        itemComponent(){\n            switch (this.item.type) {\n                case 'start':\n                    return ItemStart;\n                case 'add':\n                    return ItemAdd;\n                case 'action':    \n                    return ItemAction;\n                case 'ingredients':\n                    return ItemIngredients;\n            \n                default:\n                    return ItemEmpty;\n            }\n        }\n    },\n    mixins: [\n        BoundingBox,\n        ItemIndexes\n    ],\n}\n</script>\n\n<style>\n.gk-lane-item-cell {\n    position: relative;\n    padding: 1em 1em;\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n}\n\n.gk-lane-item {\n    display: inline-block;\n    border-radius: 100px;\n    padding: 1.2em 1.2em;\n    z-index: 10;\n}\n</style>\n","export const ItemIndexes = {\n    props: {\n        item: Object,\n        itemIndex: Number,\n        laneIndex: Number,\n    }\n}","\r\nexport const BoundingBox = {\r\n    data: () => ({\r\n        bBox: {}\r\n    }),\r\n    methods: {\r\n        /**\r\n         * Recomputes the bounding box of the item and saves it in store\r\n         * \r\n         * the bounding box has these properties:\r\n         * left, right, top, bottom, cLeft, cRight, cTop, cBottom, xMiddle, yMiddle\r\n         * \r\n         * All values are relative to ContainerContent\r\n         */\r\n        recomputeBoundingBox(){\r\n            const item = this.$refs.item?.$refs?.item;\r\n            if (!item) return;\r\n            \r\n            /**\r\n             * \r\n             * \r\n             * @param {Node} elem the DOM element\r\n             * @return {Object} the offset object with properties\r\n             * {\r\n             *   x: x coordinate of left edge\r\n             *   y: y coordinate of top edge\r\n             *   w: width\r\n             *   h: height\r\n             * }\r\n             */\r\n            function offset(elem) {\r\n                let x = elem.offsetLeft;\r\n                let y = elem.offsetTop;\r\n                let w = elem.offsetWidth;\r\n                let h = elem.offsetHeight;\r\n                while (elem.offsetParent) {\r\n                    elem = elem.offsetParent\r\n                    x += elem.offsetLeft;\r\n                    y += elem.offsetTop;\r\n                    if(elem.classList.contains('gk-container-content')) break;\r\n                }\r\n                return { \r\n                    x, y, w, h\r\n                };\r\n            }\r\n            \r\n            let itemBBox = offset(item);\r\n            let cellBBox = offset(item.offsetParent);\r\n            // TODO: add left right top bottom of parent as well \r\n            this.bBox = {\r\n                left: itemBBox.x,\r\n                right: itemBBox.x + itemBBox.w,\r\n                top: itemBBox.y,\r\n                bottom: itemBBox.y + itemBBox.h,\r\n                cLeft: cellBBox.x,\r\n                cRight: cellBBox.x + cellBBox.w,\r\n                cTop: cellBBox.y,\r\n                cBottom: cellBBox.y + cellBBox.h,\r\n                xMiddle: cellBBox.x + cellBBox.w/2,\r\n                yMiddle: cellBBox.y + cellBBox.h/2\r\n            }\r\n\r\n            this.$store.commit('setBBox', {\r\n                laneIndex: this.laneIndex,\r\n                itemIndex: this.itemIndex,\r\n                bBox: this.bBox\r\n            })\r\n        }\r\n    },\r\n    mounted() {\r\n        this.recomputeBoundingBox();\r\n    }\r\n}","/**\n * Returns css friendly hsl color string\n * \n * @param {Number} h hue, 0-360\n * @param {Number} s saturation 0-100\n * @param {Number} l lightness 0-100\n * @returns {String} strgin in the form of hsl(h, s%, l%)\n */\nexport function computeColor(h = 50, s = 100, l = 0){\n    return `hsl(${h}, ${s}%, ${l}%)`;\n}\n\n\n/**\n * Animate scroll inside an alement\n * @param {DOM element} element     The DOM element inside which to scroll\n * @param {Number}      offset      The offset from Left of the element to which to scroll\n * @param {Number}      duration    Duration of the animation in miliseconds\n * @param {Function}    callback    f() Function to call when the animation is finished\n */\nexport function scrollToDuration(element, offset, duration, callback = null) {\n    let elem = element\n    if (Math.abs(offset - elem.scrollLeft) < 0.5) return;\n\n    const totalLength = (offset - elem.scrollLeft);\n    let startingPos = elem.scrollLeft\n    let scrollCount = 0, oldTimestamp = null;\n\n    function step (newTimestamp) {\n        if (oldTimestamp !== null) {\n            scrollCount += Math.PI/2 * (newTimestamp - oldTimestamp) / duration;\n            if (scrollCount >= Math.PI/2) {\n                callback ? callback() : null;\n                return elem.scrollLeft = offset;\n            }\n            elem.scrollLeft = startingPos + totalLength * Math.sin(scrollCount);\n        }\n        oldTimestamp = newTimestamp;\n        window.requestAnimationFrame(step);\n    }\n    window.requestAnimationFrame(step);\n}\n","<template>\n<div ref=\"item\"\n    class=\"gk-lane-item gk-start\"\n    :style=\"`\n        background-color:${colorBase};\n    `\"\n>\n    {{ item.text }}\n</div>\n</template>\n\n<script>\nimport { BaseColor, ComputedHSL, LighterColor } from '../../mixins/Colors.js';\nimport { ItemIndexes } from '../../mixins/LaneItemProps.js';\n\nexport default {\n    name: \"ItemStart\",\n    data: ()=>({\n    }),\n    mixins: [\n        ItemIndexes,\n        ComputedHSL,\n        BaseColor,\n        LighterColor\n    ],\n}\n</script>\n\n<style>\n.gk-lane-item.gk-start {\n    font-size: 1.2em;\n    padding: 1em 2em;\n    color: white;\n}\n</style>\n","import { computeColor } from '../js/common.js'\r\n\r\nexport const ComputedHSL =  {\r\n    computed: {\r\n        /**\r\n         * Returns hue associated with this item in store\r\n         */\r\n        hue() {\r\n            return this.$store.getters.getItemHue(this.laneIndex, this.itemIndex);\r\n        },\r\n        /**\r\n         * Returns saturation associated with this item in store\r\n         */\r\n        saturation() {\r\n            return this.$store.getters.getItemSaturation(this.laneIndex, this.itemIndex);\r\n        },\r\n        /**\r\n         * Returns lightness associated with this item in store\r\n         */\r\n        lightness() {\r\n            return this.$store.getters.getItemLightness(this.laneIndex, this.itemIndex);\r\n        }\r\n    }\r\n}\r\n\r\nexport const BaseColor = {\r\n    computed: {\r\n        /**\r\n         * Returns the color (hsl) associated with this item in store\r\n         */\r\n        colorBase(){\r\n            return computeColor(this.hue, this.saturation, this.lightness);\r\n        }\r\n    }\r\n}\r\n\r\nexport const LightColor = {\r\n    computed: {\r\n        /**\r\n         * Returns the color associated with this item in store with lightness of 70\r\n         */\r\n        colorLight(){\r\n            return computeColor(this.hue, this.saturation, 70);\r\n        }\r\n    }\r\n}\r\n\r\nexport const LighterColor = {\r\n    computed: {\r\n        /**\r\n         * Returns the color associated with this item in store with lightness of 92\r\n         */\r\n        colorLighter(){\r\n            return computeColor(this.hue, this.saturation, 92);\r\n        }\r\n    }\r\n}\r\n","import { render } from \"./ItemStart.vue?vue&type=template&id=25ede054&bindings={}\"\nimport script from \"./ItemStart.vue?vue&type=script&lang=js\"\nexport * from \"./ItemStart.vue?vue&type=script&lang=js\"\n\nimport \"./ItemStart.vue?vue&type=style&index=0&lang=css\"\nscript.render = render\n\nexport default script","<template>\n<div \n    ref=\"item\"\n    class=\"gk-lane-item gk-action\"\n    :style=\"`background-color:${colorLighter}`\"\n>\n {{ item.text }}\n</div>\n</template>\n\n<script>\nimport { BaseColor, ComputedHSL, LighterColor } from '../../mixins/Colors.js';\nimport { ItemIndexes } from '../../mixins/LaneItemProps.js'\n\nexport default {\n    name: \"ItemAction\",\n    data: ()=>({\n        //text: \"Promíchat\"\n    }),\n    mixins: [\n        ItemIndexes,\n        ComputedHSL,\n        BaseColor,\n        LighterColor\n    ],\n}\n</script>\n\n<style>\n.gk-action {\n    /* white-space: nowrap; */\n}\n</style>\n","import { render } from \"./ItemAction.vue?vue&type=template&id=39e6a3c4&bindings={}\"\nimport script from \"./ItemAction.vue?vue&type=script&lang=js\"\nexport * from \"./ItemAction.vue?vue&type=script&lang=js\"\n\nimport \"./ItemAction.vue?vue&type=style&index=0&lang=css\"\nscript.render = render\n\nexport default script","<template>\n<div ref=\"item\"\n    class=\"gk-lane-item gk-add\"\n    :style=\"`\n        background-color:${colorFrom || colorLighter};\n        border-color:${colorBase}\n    `\"\n>\n    <b>+</b>\n</div>\n</template>\n\n<script>\nimport { BaseColor, ComputedHSL, LighterColor } from '../../mixins/Colors.js';\nimport { ItemIndexes } from '../../mixins/LaneItemProps.js'\n\nimport { computeColor } from '../../js/common.js'\n\nexport default {\n    name: \"ItemAdd\",\n    data: ()=>({\n        colorFrom: null\n    }),\n    mixins: [\n        ItemIndexes,\n        ComputedHSL,\n        BaseColor,\n        LighterColor\n    ],\n    created(){\n        if (this.item?.from != undefined) {\n            // console.log(\"IS FROM \" + this.item.from);\n            this.colorFrom = computeColor(\n                this.$store.getters.getItemHue(this.item.from, this.itemIndex),\n                this.$store.getters.getItemSaturation(this.item.from, this.itemIndex),\n                90\n            )\n        }\n    }\n}\n</script>\n\n<style>\n.gk-lane-item.gk-add {\n    padding: 0em;\n    height: 1.5em;\n    width: 1.5em;\n    border-radius: 100px;\n    text-align: center;\n    border: solid 3px;\n}\n\n</style>\n","import { render } from \"./ItemAdd.vue?vue&type=template&id=c2d3f6cc&bindings={}\"\nimport script from \"./ItemAdd.vue?vue&type=script&lang=js\"\nexport * from \"./ItemAdd.vue?vue&type=script&lang=js\"\n\nimport \"./ItemAdd.vue?vue&type=style&index=0&lang=css\"\nscript.render = render\n\nexport default script","<template>\n<div ref=\"item\"\n    class=\"gk-lane-item gk-ingredients\"\n    :style=\"`\n        background-color:${colorLighter};\n        border-color:${colorBase};\n        ${gridTemplate}\n    `\"\n>\n    <ingredient-badge\n        v-for=\"ingredient of item.ingredients\"\n        :key=\"ingredient.name\"\n        :ingredient=\"ingredient\"\n    />\n</div>\n</template>\n\n<script>\nimport IngredientBadge from '../IngredientBadge'\n\nimport { BaseColor, ComputedHSL, LighterColor } from '../../mixins/Colors.js';\nimport { ItemIndexes } from '../../mixins/LaneItemProps.js'\n\nexport default {\n    name: \"ItemIngredients\",\n    components: {\n        IngredientBadge\n    },\n    data: ()=>({\n    }),\n    computed: {\n        gridTemplate(){\n            let columns = this.$store.state.columnDisplay;\n            let gt = `\n                grid-template-${columns ? 'columns' :'rows' }: repeat(${3}, auto);\n                grid-auto-flow: ${columns ? 'row' : 'column'};\n            `;\n            return gt;\n        }\n    },\n    mixins: [\n        ItemIndexes,\n        ComputedHSL,\n        BaseColor,\n        LighterColor\n    ],\n\n}\n</script>\n\n<style>\n.gk-lane-item.gk-ingredients {\n    border-radius: 2.6em;\n    padding: 0;\n    display: grid;\n}\n</style>\n","<template>\n    <div class=\"gk-ingredient-badge gk-drop-shadow\">\n        {{ ingredient.name }}\n        <ingredient-amount\n            :amount=\"ingredient.amount\"\n            :unit=\"ingredient.unit\"\n        />\n    </div>\n</template>\n\n<script>\nimport IngredientAmount from './IngredientAmount'\n\nexport default {\n    name: \"IngredientBadge\",\n    props: {\n        ingredient: Object\n    },\n    components: {\n        IngredientAmount\n    }\n}\n</script>\n\n<style>\n.gk-ingredient-badge {\n    font-size: .9em;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-around;\n    align-items: center;\n    margin: .5em;\n    border-radius: 100px;\n    background-color: hsl(0, 0%, 95%);\n    width: 5em;\n    height: 5em;\n}\n\n</style>","<template>\n<div\n    v-if=\"amount\"\n    class=\"gk-ingredient-amount gk-drop-shadow\"    \n>\n    {{ amountText }}\n</div>\n</template>\n\n<script>\nimport { normaliseAmount } from '../../js/unitConverter.js'\n\nexport default {\n    name: \"IngredientAmount\",\n    props: [\n        \"amount\",\n        \"unit\"\n    ],\n    computed: {\n        portionsMultiplier(){\n            return this.$store.getters.getPortionsMultiplier;\n        },\n        amountText(){\n            if (!this.unit) return this.amount\n            let na = normaliseAmount(this.amount, this.unit, this.portionsMultiplier);\n            return na.amount + \"\\u00a0\" + na.unit;\n        }\n    }\n}\n</script>\n\n<style>\n.gk-ingredient-amount {\n    position: absolute;\n    background-color: gold;\n    white-space: nowrap;\n    border-radius: 1em;\n    padding: .3em .5em;\n    right: -.8em;\n    top: -.7em;\n}\n</style>","let pluralCategories = {\n    \"none\": [0],\n    \"one\": [1],\n    \"few\": [2,3,4],\n    \"many\": 'more'\n}\n\nlet pluralizedUnits = {\n    \"tsp\": {\n        none: \"lžiček\",\n        one: \"lžička\",\n        few: \"lžičky\",\n        many: \"lžiček\",\n    },\n    \"g\": {\n        none: \"gramů\",\n        one: \"gram\",\n        few: \"gramy\",\n        many: \"gramů\",\n    },\n    \"ks\": {\n        none: \"kusů\",\n        one: \"kus\",\n        few: \"kusy\",\n        many: \"kusů\",\n    },\n    \"plátek\": {\n        none: \"plátků\",\n        one: \"plátek\",\n        few: \"plátky\",\n        many: \"plátků\",\n    },\n    \"stroužek\": {\n        none: \"stroužků\",\n        one: \"stroužek\",\n        few: \"stroužky\",\n        many: \"stroužků\",\n    }\n}\n\nlet UnitsSI = {\n    'volume': ['ml', 'l'],\n    'mass': ['g', 'kg']\n}\n\nfunction getPlural(amount, unit){\n    if (!pluralizedUnits[unit]) return unit;\n    let category = 'many';\n    for (let [category, matches] of Object.entries(pluralCategories)){\n        if(matches.includes(amount)){\n            return pluralizedUnits[unit][category]\n        }\n    }\n    return pluralizedUnits[unit][category];\n}\n\n\nexport function normaliseAmount(amount, unit, multiplier){\n    let unitType = null;\n    let originalIndex = 0;\n    let newUnit = unit;\n    for (let [type, units] of Object.entries(UnitsSI)){\n        let index = units.indexOf(unit)\n        if (index != -1) {\n            unitType = type;\n            originalIndex = index;\n            break;\n        }\n    }\n    let newAmount = amount * multiplier;\n    // unit is SI unit and can be converted to bigger or smaller\n    if (unitType){\n        const maxIndex = UnitsSI[unitType].length - 1;\n        const minIndex = 0;\n        let newIndex = originalIndex;\n        while (newAmount >= 1000 && newIndex <= maxIndex){\n            newAmount /= 1000;\n            newIndex += 1;\n        }\n        while (newAmount < 1 && newIndex >= minIndex){\n            newAmount *= 1000;\n            newIndex -= 1;\n        }\n        if (newIndex == 0){\n            newAmount = Math.round(newAmount) || 1;\n        } else {\n            newAmount = Math.round(newAmount*100)/100 || 1;\n        }\n        newUnit = UnitsSI[unitType][newIndex];\n    // unit is sometnig else, test if it is in database\n    } else {\n        newAmount = Math.round(newAmount) || 1;\n        newUnit = getPlural(newAmount, unit);\n    }\n\n    return {\n        amount: newAmount,\n        unit: newUnit,\n    }\n}\n","import { render } from \"./IngredientAmount.vue?vue&type=template&id=ef0cbb3c&bindings={\\\"amount\\\":\\\"props\\\",\\\"unit\\\":\\\"props\\\",\\\"portionsMultiplier\\\":\\\"options\\\",\\\"amountText\\\":\\\"options\\\"}\"\nimport script from \"./IngredientAmount.vue?vue&type=script&lang=js\"\nexport * from \"./IngredientAmount.vue?vue&type=script&lang=js\"\n\nimport \"./IngredientAmount.vue?vue&type=style&index=0&lang=css\"\nscript.render = render\n\nexport default script","import { render } from \"./index.vue?vue&type=template&id=1aec973a&bindings={\\\"ingredient\\\":\\\"props\\\"}\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&lang=css\"\nscript.render = render\n\nexport default script","import { render } from \"./ItemIngredients.vue?vue&type=template&id=51e76054&bindings={\\\"gridTemplate\\\":\\\"options\\\"}\"\nimport script from \"./ItemIngredients.vue?vue&type=script&lang=js\"\nexport * from \"./ItemIngredients.vue?vue&type=script&lang=js\"\n\nimport \"./ItemIngredients.vue?vue&type=style&index=0&lang=css\"\nscript.render = render\n\nexport default script","<template>\n<div \n    ref=\"item\"\n    class=\"gk-lane-item gk-empty\"\n>\n</div>\n</template>\n\n<script>\nimport { ItemIndexes } from '../../mixins/LaneItemProps.js'\n\nexport default {\n    name: \"ItemEmpty\",\n    data: ()=>({\n    }),\n    mixins: [\n        ItemIndexes,\n    ],\n}\n</script>\n\n<style>\n.gk-empty {\n}\n</style>\n","import { render } from \"./ItemEmpty.vue?vue&type=template&id=67574ee4&bindings={}\"\nimport script from \"./ItemEmpty.vue?vue&type=script&lang=js\"\nexport * from \"./ItemEmpty.vue?vue&type=script&lang=js\"\n\nimport \"./ItemEmpty.vue?vue&type=style&index=0&lang=css\"\nscript.render = render\n\nexport default script","import { render } from \"./index.vue?vue&type=template&id=74ce420b&bindings={\\\"itemComponent\\\":\\\"options\\\"}\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&lang=css\"\nscript.render = render\n\nexport default script","import { render } from \"./index.vue?vue&type=template&id=749125a1&bindings={\\\"lane\\\":\\\"props\\\",\\\"laneIndex\\\":\\\"props\\\",\\\"recomputeBoundingBoxes\\\":\\\"options\\\",\\\"style\\\":\\\"options\\\"}\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&lang=css\"\nscript.render = render\n\nexport default script","<template>\n<svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"100%\"\n    height=\"100%\"\n>\n    <flow-arrow\n        v-for=\"(arrow, index) of arrows\"\n        :key=\"arrow\"\n        :arrow=\"arrow\"\n        :ref=\"'arrow-ref-' + index\"\n    />\n</svg>\n</template>\n\n<script>\nimport FlowArrow from './FlowArrow'\n\nexport default {\n    name: \"FlowArrows\",\n    components: {\n        FlowArrow\n    },\n    computed: {\n        arrows(){\n            return this.$store.state.arrows;\n        }\n    },\n    methods: {\n\n    }\n}\n</script>\n\n<style>\nsvg {\n    position: absolute;\n    width: 100%;\n    left: 0;\n    top: 0;\n    filter: drop-shadow(1px 1px 0px rgba(0, 0, 0, .4));\n    /* background-color: rgba(0, 0, 0, .4); */\n    z-index: 20;\n    pointer-events: none;\n}\n\n</style>","<template>\n<g class=\"gk-arrow\">\n    <defs>\n        <marker\n            :id=\"`arrowhead${hue}-${saturation}-${lightness}`\"\n            markerWidth=\"10\"\n            markerHeight=\"7\"\n            refX=\"3.5\"\n            refY=\"2.5\"\n            orient=\"auto\"\n        >\n            <polygon\n                :fill=\"colorBase\"\n                points=\"0 0, 5 2.5, 0 5, 1 2.5\"\n            />\n        </marker>\n    </defs>\n\n    <line\n        v-if=\"fromTo\"\n        :x1=\"fromTo.xFrom\"\n        :y1=\"fromTo.yFrom\"\n        :x2=\"fromTo.xTo\"\n        :y2=\"fromTo.yTo\"\n        :stroke=\"colorBase\"\n        stroke-linecap=\"round\"\n        :stroke-dasharray=\" dotted ? '0,10' : ''\"\n        stroke-width=\"4\" :marker-end=\"`url(#arrowhead${hue}-${saturation}-${lightness})`\"\n    />\n</g>\n</template>\n\n<script>\nimport { BaseColor } from '../../mixins/Colors.js'\n\nexport default {\n    props: [\"arrow\"],\n    data: ()=>({\n        headSize: 5,\n    }),\n    computed: {\n        dotted(){\n            return this.arrow.dotted || false;\n        },\n        hue(){\n            return this.$store.getters.getItemHue(...this.arrow.from);\n        },\n        saturation(){\n            return this.$store.getters.getItemSaturation(...this.arrow.from);\n        },\n        lightness(){\n            return this.$store.getters.getItemLightness(...this.arrow.from);\n        },\n        fromBBox(){\n            return this.$store.getters.getItemBBox(...this.arrow.from);\n        },\n        toBBox(){\n             return this.$store.getters.getItemBBox(...this.arrow.to);\n        },\n        fromTo(){\n            const fb = this.fromBBox;\n            const tb = this.toBBox;\n            if (!fb || !tb) {\n                return false;\n            }\n            let vertical = Math.abs(fb.yMiddle - tb.yMiddle) > Math.abs(fb.xMiddle - tb.xMiddle);\n            let inverted = vertical ? fb.bottom > tb.top : fb.right > tb.left;\n            return {\n                xFrom: vertical ? fb.xMiddle : (inverted ? fb.left : fb.right),\n                yFrom: vertical ? (inverted ? fb.top : fb.bottom) : fb.yMiddle,\n                xTo: vertical ? tb.xMiddle : (inverted ? tb.right + 5 : tb.left - 5),\n                yTo: vertical ? (inverted ? tb.bottom + 5 : tb.top - 5): tb.yMiddle\n            } \n        },\n    },\n    mixins: [\n        BaseColor\n    ],\n\n}\n</script>\n\n<style>\n\n</style>","import { render } from \"./FlowArrow.vue?vue&type=template&id=69e2ceb2&bindings={\\\"arrow\\\":\\\"props\\\",\\\"dotted\\\":\\\"options\\\",\\\"hue\\\":\\\"options\\\",\\\"saturation\\\":\\\"options\\\",\\\"lightness\\\":\\\"options\\\",\\\"fromBBox\\\":\\\"options\\\",\\\"toBBox\\\":\\\"options\\\",\\\"fromTo\\\":\\\"options\\\"}\"\nimport script from \"./FlowArrow.vue?vue&type=script&lang=js\"\nexport * from \"./FlowArrow.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./index.vue?vue&type=template&id=41686285&bindings={\\\"arrows\\\":\\\"options\\\"}\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&lang=css\"\nscript.render = render\n\nexport default script","<template>\n    <div\n        class=\"gk-rectangle-regions\"    \n    >\n        <rectangle-region\n            v-for=\"region of regions\"\n            :key=\"region\"\n            :region=\"region\"\n        />\n    </div>\n</template>\n\n<script>\nimport RectangleRegion from './RectangleRegion'\n\nexport default {\n    name: \"RectangleRegions\",\n    components: {\n        RectangleRegion\n    },\n    computed: {\n        regions(){\n            console.log(this.$store.state.regions)\n            return this.$store.state.regions;\n        }\n    },\n}\n</script>\n\n<style>\n.gk-rectangle-regions {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    left: 0;\n    top: 0;\n    pointer-events: none;\n}\n</style>","<template>\n<div\n    v-if=\"style\"\n    class=\"gk-region gk-drop-shadow\"\n    :style=\"style\"\n>\n    <div\n        class=\"gk-region-header gk-drop-shadow\"\n        :style=\"headerStyle\"\n    >\n        {{ region.type }}\n    </div>\n</div>\n  \n</template>\n\n<script>\nexport default {\n    name: \"RectangleRegion\",\n    props: [\"region\"],\n    computed: {\n        topLeftBBox(){\n            return this.$store.getters.getItemBBox(...this.region.topLeft);\n        },\n        bottomRightBBox(){\n             return this.$store.getters.getItemBBox(...this.region.bottomRight);\n        },\n        vertical(){\n            return this.$store.state.columnDisplay;\n        },\n        style(){\n            const tl = this.topLeftBBox;\n            const br = this.bottomRightBBox;\n            if (!tl || !br) {\n                return false;\n            }\n            let cb = {\n                top: this.topLeftBBox.cTop,\n                left: this.topLeftBBox.cLeft,\n                right: this.bottomRightBBox.cRight,\n                bottom: this.bottomRightBBox.cBottom\n            }\n            let style =`\n                left: ${cb.left}px;\n                top: ${cb.top}px;\n                width: ${cb.right - cb.left}px;\n                height: ${cb.bottom - cb.top}px;\n                flex-direction: ${this.vertical ? 'row' : 'column'};\n                `\n            return style\n        },\n        isHeaderOnBottom(){\n            return this.region?.header == 'bottom';\n        },\n        headerStyle(){\n            if(this.vertical){\n                return `\n                ${this.isHeaderOnBottom ? 'right' : 'left'}: 0;\n                transform: translateX(${this.isHeaderOnBottom ? '' : '-'}50%) rotate(-90deg);\n                filter: drop-shadow(-2px 2px 0px rgba(0, 0, 0, .4));\n                `\n            }\n            return `\n                ${this.isHeaderOnBottom ? 'bottom' : 'top'}: 0;\n                transform: translateY(${this.isHeaderOnBottom ? '' : '-'}50%);\n            `\n        }\n    }\n}\n</script>\n\n<style>\n.gk-region {\n    position: absolute;\n    display: flex;\n    align-items: center;\n    border-radius: 2.5em;\n    background-color: hsl(0, 0%, 30%);\n    padding: 0;\n}\n\n.gk-region-header {\n    padding: .5em 1em;\n    position: absolute;\n    background-color:  hsl(0, 0%, 40%);\n    max-width: 80%;\n    color: white;\n    border-radius: 2.5em;\n}\n\n</style>","import { render } from \"./RectangleRegion.vue?vue&type=template&id=51e0c0eb&bindings={\\\"region\\\":\\\"props\\\",\\\"topLeftBBox\\\":\\\"options\\\",\\\"bottomRightBBox\\\":\\\"options\\\",\\\"vertical\\\":\\\"options\\\",\\\"style\\\":\\\"options\\\",\\\"isHeaderOnBottom\\\":\\\"options\\\",\\\"headerStyle\\\":\\\"options\\\"}\"\nimport script from \"./RectangleRegion.vue?vue&type=script&lang=js\"\nexport * from \"./RectangleRegion.vue?vue&type=script&lang=js\"\n\nimport \"./RectangleRegion.vue?vue&type=style&index=0&lang=css\"\nscript.render = render\n\nexport default script","import { render } from \"./index.vue?vue&type=template&id=08ab3c5a&bindings={\\\"regions\\\":\\\"options\\\"}\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&lang=css\"\nscript.render = render\n\nexport default script","import { render } from \"./ContainerContent.vue?vue&type=template&id=a2b27ec6&bindings={\\\"lanes\\\":\\\"options\\\",\\\"gridTemplate\\\":\\\"options\\\"}\"\nimport script from \"./ContainerContent.vue?vue&type=script&lang=js\"\nexport * from \"./ContainerContent.vue?vue&type=script&lang=js\"\n\nimport \"./ContainerContent.vue?vue&type=style&index=0&lang=css\"\nimport \"./ContainerContent.vue?vue&type=style&index=1&lang=css\"\nscript.render = render\n\nexport default script","import { render } from \"./index.vue?vue&type=template&id=42f7197a&scoped=true&bindings={\\\"scr\\\":\\\"options\\\"}\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&lang=css\"\nimport \"./index.vue?vue&type=style&index=1&id=42f7197a&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-42f7197a\"\n\nexport default script","function addVerticalArrow(fromLaneIndex, toLaneIndex, eventIndex, vArrows){\n    vArrows.push({\n        from: [fromLaneIndex, eventIndex],\n        to: [toLaneIndex, eventIndex]\n    })\n}\n\nfunction getEventIndex(lanes){\n    return lanes[0].items.length - 1;\n}\n\nfunction addHorizontalArrow(lane, laneIndex, toIndex, hArrows){\n    function findLastOccupied(lane){\n        for(let i = toIndex - 1; i >= 0; i--){\n            if (lane.items[i].type != undefined){\n                return i;\n            }\n        }\n        return null;\n    }\n    let fromIndex = findLastOccupied(lane);\n    if(fromIndex == undefined){\n        console.error(\"cannot add line to \" + toIndex + \" in lane \" + laneIndex);\n    }\n    hArrows.push({\n        from: [laneIndex, fromIndex],\n        to: [laneIndex, toIndex],\n        dotted: (toIndex - fromIndex > 1)\n    })\n}\n\nfunction parseEvent(lanes, hArrows, vArrows, recipe, laneIndex, event){\n    let eventIndex = getEventIndex(lanes);\n    switch (event.type){\n        case 'start':\n            lanes[laneIndex].items[eventIndex] = {\n                type: 'start',\n                text: recipe.containers[laneIndex-1].name\n            };\n            break;\n\n        case 'add-ingredients':\n            if(event.prepare){\n                if(!lanes[0].items[eventIndex - 1].type){\n                    eventIndex -= 1;\n                } else {\n                    lanes.forEach(lane=>lane.items.push({}));\n                }\n            }\n            lanes[0].items[eventIndex] = {\n                type: 'ingredients',\n                ingredients: event.ingredients.map(i=>recipe.ingredients[i]),\n                hue: recipe.containers[laneIndex-1].hue,\n                saturation: recipe.containers[laneIndex-1].saturation || 100,\n                lightness: recipe.containers[laneIndex-1].lightness || 50\n            }\n            if(event.prepare){\n                eventIndex += 1;\n                lanes[0].items[eventIndex] = {\n                    type: 'action',\n                    text: event.prepare,\n                    hue: recipe.containers[laneIndex-1].hue,\n                    saturation: recipe.containers[laneIndex-1].saturation || 100,\n                    lightness: recipe.containers[laneIndex-1].lightness || 50\n                }\n                addHorizontalArrow(lanes[0], 0, eventIndex, hArrows);\n            }\n            lanes[laneIndex].items[eventIndex] = {\n                type: 'add'\n            };\n            console.log(\"add ingredients\");\n            addHorizontalArrow(lanes[laneIndex], laneIndex, eventIndex, hArrows);\n            addVerticalArrow(0, laneIndex, eventIndex, vArrows);\n            break;\n\n        case 'add-from':\n            lanes[laneIndex].items[eventIndex] = {\n                type: 'add',\n                from: event.from\n            };\n            addHorizontalArrow(lanes[laneIndex], laneIndex, eventIndex, hArrows);\n            addVerticalArrow(event.from, laneIndex, eventIndex, vArrows);\n            break;\n\n        case 'action':\n            lanes[laneIndex].items[eventIndex] = {\n                type: 'action',\n                text: event.text\n            };\n            addHorizontalArrow(lanes[laneIndex], laneIndex, eventIndex, hArrows);\n            break;\n\n        default:\n            lanes[laneIndex].items[eventIndex] = {};\n            break;\n    }\n}\n\nexport function convertRecipe(recipe){\n    const lanes = [\n        {hue: 100, saturation: 1, lightness: 50, items: []},\n        ...(recipe.containers.map(c=>({\n            hue: c.hue,\n            saturation: c.saturation,\n            lightness: c.lightness,\n            items: []\n        })))\n    ];\n    const hArrows = [];\n    const vArrows = [];\n    const namedRegions = {};\n    recipe.timeline.forEach((step)=>{\n        lanes.forEach(lane=>lane.items.push({}));\n        let eventIndex = getEventIndex(lanes);\n        Object.entries(step).forEach(([key, event])=>{\n            // if key is number\n            let laneIndex = Number.parseInt(key);\n            if(laneIndex >= 0){ \n                parseEvent(lanes, hArrows, vArrows, recipe, laneIndex, event);\n            }\n            if (key == 'enter'){\n                namedRegions[event.name] = {\n                    type: event.type,\n                    header: event.header,\n                    topLeft: [Math.min(...event.containers), eventIndex],\n                    bottomRight: [Math.max(...event.containers), eventIndex]\n                }\n            } else if (key == 'exit'){\n                namedRegions[event.name].bottomRight[1] = eventIndex;\n            }\n        })\n    })\n\n    console.log(namedRegions);\n\n\n    return {\n        lanes,\n        arrows: [...hArrows, ...vArrows],\n        regions: Object.values(namedRegions),\n        portions: recipe.portions\n    }\n}\n","import { render } from \"./App.vue?vue&type=template&id=78b2cadc&bindings={\\\"getRecipe\\\":\\\"options\\\",\\\"setPortions\\\":\\\"options\\\",\\\"prt\\\":\\\"options\\\"}\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&lang=css\"\nscript.render = render\n\nexport default script","export const lanes = [\n    {\n        hue: 300,\n        items: [\n            {},\n            {\n                type: \"ingredients\",\n                ingredients: [ {name: \"Sypký věci\"}],\n                bBox: null,\n                hue: 240\n            },\n            {\n                type: \"ingredients\",\n                ingredients: [ {name: \"Mokrý věci\" }],\n                bBox: null,\n                hue: 240\n            },\n            {},\n            {},\n            {\n                type: \"ingredients\",\n                ingredients: [ {name: \"Olej\" }],\n                bBox: null,\n                hue: 360\n            },\n        ]\n    },\n    {\n        hue: 240,\n        items: [\n            {\n                type: \"start\",\n                text: \"Mísa\",\n                bBox: null,\n            },\n            {\n                type: \"add\",\n                text: \"Add\",\n                bBox: null\n            },\n            {\n                type: \"add\",\n                text: \"Add\",\n                bBox: null\n            },\n            {\n                type: \"action\",\n                text: \"Promíchat\",\n                bBox: null,\n            },\n            {\n                type: \"action\",\n                text: \"Nechat odležet\",\n                bBox: null\n            },\n            {},\n            {},\n            {\n                type: \"action\",\n                text: \"Nalít část těsta na pánev\",\n                bBox: null,\n            }\n        ]\n    },\n    {\n        hue: 360,\n        items: [\n            {\n                type: \"start\",\n                text: \"Pánev\",\n                bBox: null\n            },\n            {},\n            {},\n            {},\n            {},\n            {\n                type: \"add\",\n                text: \"Add\",\n                bBox: null\n            },\n            {\n                type: \"action\",\n                text: \"Rozehřát\",\n                bBox: null\n            },\n            {\n                type: \"add\",\n                from: 1,\n                text: \"Add\",\n                bBox: null\n            },\n            {\n                type: \"action\",\n                text: \"Osmažit z jedné strany\",\n                bBox: null\n            },\n            {\n                type: \"action\",\n                text: \"Otočit\",\n                bBox: null\n            },\n            {\n                type: \"action\",\n                text: \"Osmažit z druhé strany\",\n                bBox: null\n            },\n            {\n                type: \"action\",\n                text: \"Přendat na talíř\",\n                bBox: null\n            },\n        ]\n    },\n    {\n        hue: 125,\n        lightness: 35,\n        items: [\n            {\n                type: \"start\",\n                text: \"Talíř\",\n                bBox: null\n            },\n            {},\n            {},\n            {},\n            {},\n            {},\n            {},\n            {},\n            {},\n            {},\n            {},\n            {\n                type: \"add\",\n                from: 2,\n                text: \"Add\",\n                bBox: null\n            },\n            {\n                type: \"action\",\n                text: \"Servírujeme\",\n                bBox: null\n            },\n        ]\n    },\n]\n\nexport const regions = [\n    {\n        topLeft: [1, 7],\n        bottomRight: [3, 11],\n        type: \"repeat\"\n    },\n    {\n        topLeft: [1, 1],\n        bottomRight: [1, 4],\n        type: \"těsto\",\n        header: \"bottom\"\n    }\n]\n\nexport const arrows = [\n    // mísa\n    {\n        from: [1,0],\n        to: [1,1]\n    },\n    {\n        from: [1,1],\n        to: [1,2]\n    },\n    {\n        from: [1,2],\n        to: [1,3]\n    },\n    {\n        from: [1,3],\n        to: [1,4]\n    },\n    {\n        from: [1,4],\n        to: [1,7],\n        dotted: true,\n    },\n    // mísa -> pánev\n    {\n        from: [1,7],\n        to: [2,7],\n    },\n    // pánev\n    {\n        from: [2,0],\n        to: [2,5],\n        dotted: true\n    },\n    {\n        from: [2,5],\n        to: [2,6],\n    },\n    {\n        from: [2,6],\n        to: [2,7],\n    },\n    {\n        from: [2,7],\n        to: [2,8],\n    },\n    {\n        from: [2,8],\n        to: [2,9],\n    },\n    {\n        from: [2,9],\n        to: [2,10],\n    },\n    {\n        from: [2,10],\n        to: [2,11],\n    },\n    // pánev -> talíř\n    {\n        from: [2,11],\n        to: [3,11],\n    },\n    // talíř\n    {\n        from: [3,0],\n        to: [3,11],\n    },\n    {\n        from: [3,11],\n        to: [3,12],\n    },\n    // ingredience\n    {\n        from: [0,1],\n        to: [1,1],\n    },\n    {\n        from: [0,2],\n        to: [1,2],\n    },\n    {\n        from: [0,5],\n        to: [2,5],\n    },\n]","import { createStore } from 'vuex'\nimport { lanes, arrows, regions, portions } from '../js/sampleConvertedRecipe'\n\nimport { convertRecipe } from '../js/recipeConverter.js'\n\nexport default createStore({\n    state: {\n        columnDisplay: false,\n        lanes: lanes,\n        arrows: arrows,\n        regions: regions,\n        basePortions: 1,\n        portions: 8,\n    },\n    mutations: {\n        setPortions: (state, payload) => {\n            state.portions = payload;\n        },\n        setRecipe(state, payload){\n            state.lanes = payload.recipe.lanes;\n            state.arrows = payload.recipe.arrows;\n            state.regions = payload.recipe.regions;\n            state.portions = payload.recipe.portions;\n            state.basePortions = payload.recipe.portions;\n            console.log(\"portions:\" + state.portions);\n        },\n        setBBox(state, payload){\n            state.lanes[payload.laneIndex].items[payload.itemIndex].bBox = payload.bBox;\n        },\n        toggleDisplayStyle(state){\n            state.columnDisplay = !state.columnDisplay\n        }\n    },\n    actions: {\n        fetchRecipe(context, recipe){\n            fetch(`recipes/${recipe}.json`)\n                .then(d=>d.json())\n                .then(recipe=>{\n                    context.commit('setRecipe', {recipe: convertRecipe(recipe)})\n                });  \n        }\n    },\n    getters: {\n        getPortions: (state) =>{\n            return state.portions\n        },\n        getPortionsMultiplier: (state) => {\n            return state.portions / state.basePortions;\n        },\n        getItemHue: (state) => (laneIndex, itemIndex) => {\n            return (\n                state.lanes[laneIndex].items[itemIndex]?.hue ||\n                state.lanes[laneIndex].hue\n            )\n        },\n        getItemSaturation: (state) => (laneIndex, itemIndex) => {\n            return (\n                state.lanes[laneIndex].items[itemIndex]?.saturation ||\n                state.lanes[laneIndex]?.saturation ||\n                100\n            )\n        },\n        getItemLightness: (state) => (laneIndex, itemIndex) => {\n            return (\n                state.lanes[laneIndex].items[itemIndex]?.lightness ||\n                state.lanes[laneIndex]?.lightness ||\n                50\n            )\n        },\n        getItemBBox: (state) => (laneIndex, itemIndex) => {\n            return state.lanes[laneIndex].items[itemIndex]?.bBox;\n\n        }\n    },\n    modules: {\n    }\n})\n","import { createApp } from 'vue'\nimport App from './App.vue'\nimport store from './store'\n\n\nconst app  = createApp(App)\napp.use(store)\napp.mount('#app')\n\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ItemStart.vue?vue&type=style&index=0&lang=css\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./IngredientAmount.vue?vue&type=style&index=0&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ContainerContent.vue?vue&type=style&index=0&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./RectangleRegion.vue?vue&type=style&index=0&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ItemAdd.vue?vue&type=style&index=0&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=1&id=42f7197a&scoped=true&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ItemAction.vue?vue&type=style&index=0&lang=css\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&lang=css\""],"sourceRoot":""}